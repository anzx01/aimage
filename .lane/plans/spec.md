# 产品需求规格说明书 (PRD)
# NeoBund1.com - TikTok UGC 视频生成平台

**版本**: 1.0
**日期**: 2026-02-15
**状态**: Phase 2 - 架构与泳道规划
**作者**: AI Assistant
**基于**: NeoBund.com 深度调研（15+ 页面分析）

---

## 目录

1. [产品概述](#1-产品概述)
2. [核心功能需求](#2-核心功能需求)
3. [用户流程](#3-用户流程)
4. [功能规格](#4-功能规格)
5. [非功能性需求](#5-非功能性需求)
6. [验收标准](#6-验收标准)
7. [技术约束](#7-技术约束)
8. [里程碑](#8-里程碑)

---

## 1. 产品概述

### 1.1 产品定位

NeoBund1.com 是一个面向跨境电商卖家的 **AI 视频生成与分发平台**，定位为：

> "不只是AI视频生成工具，更是从内容生成到多渠道分发的新一代AI广告平台"

### 1.2 核心价值主张

- **AI 内容生成引擎**: 聚合多个 AI 大模型（Sora2、Veo3.1 Fast 等）
- **TikTok 官方 API 发布**: 直连 TikTok，支持多账号安全管理
- **达人分发网络**: 连接 TikTok 达人，扩大内容传播
- **广告投放能力**: 一站式 TikTok 广告投放管理

### 1.3 目标用户

1. **跨境电商卖家** (主要)
   - 需要快速生成产品视频广告
   - 需要在 TikTok 等平台投放广告
   - 预算有限，需要高性价比解决方案

2. **内容创作者** (次要)
   - 需要 AI 辅助创作工具
   - 需要批量生成内容

3. **中小企业营销团队** (次要)
   - 需要专业视频制作能力
   - 需要多渠道分发管理

### 1.4 竞品分析

| 竞品 | 优势 | 劣势 | 我们的差异化 |
|------|------|------|--------------|
| Pictory | AI 视频生成 | 仅生成，无分发 | 平台级：生成+分发+投放 |
| Synthesia | AI 数字人 | 价格昂贵 | 多模型聚合，性价比高 |
| Runway ML | 创意工具套件 | 学习曲线陡峭 | 傻瓜式操作，一键成片 |
| CapCut 商业版 | 字节官方工具 | 功能分散 | TikTok 深度集成 |

---

## 2. 核心功能需求

### 2.1 功能优先级矩阵

| 优先级 | 功能模块 | MVP 状态 | 说明 |
|--------|----------|----------|------|
| P0 | 用户认证系统 | ✅ 必须 | 手机号/邮箱/Google 登录 |
| P0 | 一键成片（基础模式） | ✅ 必须 | 模板选择式快速生成 |
| P0 | 优秀案例库 | ✅ 必须 | 灵感来源，降低门槛 |
| P0 | 积分系统 | ✅ 必须 | 成本控制，商业模式核心 |
| P1 | 一键成片（高级模式） | ✅ 重要 | 完全自定义配置 |
| P1 | 数字人功能 | ✅ 重要 | AI 虚拟主播 |
| P1 | 反推提示词 | ✅ 重要 | 优化生成质量 |
| P2 | 爆款复刻 | ⏳ 可选 | 分析并复刻热门视频 |
| P2 | 视频/图片模型选择 | ⏳ 可选 | 多模型切换 |
| P2 | TikTok 直连发布 | ⏳ 可选 | 官方 API 集成 |
| P2 | 我的项目列表 | ⏳ 可选 | 项目管理 |
| P2 | 用户设置 | ⏳ 可选 | 个人信息、偏好设置 |
| P3 | TikTok 达人分发 | 🔮 未来 | 达人网络 |
| P3 | TikTok 广告投放 | 🔮 未来 | 广告管理 |

### 2.2 用户故事汇总

基于深度调研，共识别 **25+ 用户故事**，按模块分类：

#### 2.2.1 用户认证与管理 (5 个)
- US-001: 手机号/邮箱注册
- US-002: Google 账号一键登录
- US-003: 个人资料管理
- US-004: 积分余额查看
- US-005: 订阅计划管理

#### 2.2.2 智能创作模块 (9 个)
- US-006: 一键成片（基础模式）- 模板选择
- US-007: 一键成片（高级模式）- 完全自定义
- US-008: 爆款复刻 - 分析热门视频
- US-009: 数字人生成 - AI 虚拟主播
- US-010: 反推提示词 - 优化生成质量
- US-011: 优秀案例浏览
- US-012: 案例收藏
- US-013: 案例筛选（类目/类型）
- US-014: 案例搜索

#### 2.2.3 AI 模型管理 (3 个)
- US-015: 视频模型选择（Sora2、Veo3.1 等）
- US-016: 图片模型选择
- US-017: 模型对比与切换

#### 2.2.4 内容分发模块 (5 个)
- US-018: TikTok 账号连接（OAuth）
- US-019: TikTok 多账号管理
- US-020: TikTok 直连发布
- US-021: 发起达人分发任务
- US-022: 查看任务进度

#### 2.2.5 辅助功能 (3 个)
- US-023: 查看使用指引
- US-024: 赚取积分
- US-025: 联系客服

---

## 3. 用户流程

### 3.1 核心用户旅程

#### 3.1.1 新用户首次使用流程

```mermaid
graph TD
    A[访问首页] --> B{是否登录?}
    B -->|否| C[点击"免费开始"]
    C --> D[注册/登录页面]
    D --> E[选择登录方式]
    E --> F[手机号登录]
    E --> G[Google 登录]
    F --> H[进入工作台]
    G --> H
    H --> I[浏览优秀案例]
    I --> J[选择"一键成片"]
    J --> K[选择模板]
    K --> L[填写产品信息]
    L --> M[上传产品图片]
    M --> N[点击"生成"]
    N --> O{积分是否足够?}
    O -->|是| P[开始生成]
    O -->|否| Q[提示充值]
    P --> R[等待生成完成]
    R --> S[预览视频]
    S --> T[下载/分享]
```

#### 3.1.2 一键成片（高级模式）详细流程

**前置条件**: 用户已登录，积分充足

**步骤**:
1. 点击左侧导航"一键成片"
2. 选择"高级模式"标签
3. 填写表单：
   - 上传产品图片（必填，≤1张）
   - 上传场景图片（选填，≤1张）
   - 输入产品详情（必填，文本域）
   - 选择数字人类型（公共/我的/去生成）
   - 选择语言（英语/中文/日语等）
   - 选择运行模式（全自动/半自动）
4. 查看积分消耗预估
5. 点击"生成视频"按钮
6. 系统创建异步任务
7. 跳转到"我的任务"页面
8. 实时显示生成进度
9. 生成完成后通知用户
10. 用户预览、下载或分享视频

**异常处理**:
- 积分不足：按钮禁用，显示"积分不足"
- 上传失败：显示错误提示，允许重试
- 生成失败：显示错误原因，退还积分

---

## 4. 功能规格

### 4.1 用户认证系统

#### 4.1.1 注册/登录

**功能描述**: 支持多种登录方式

**输入**:
- 手机号 + 密码
- 手机号 + 验证码
- Google OAuth 2.0

**输出**:
- JWT Token（access_token + refresh_token）
- 用户基本信息（id, email, full_name, avatar_url, credits）

**业务规则**:
- 手机号格式验证（支持国际区号）
- 密码强度要求：≥8位，包含数字+字母
- 验证码有效期：5分钟
- Token 有效期：access_token 1小时，refresh_token 30天
- 新用户注册赠送 10 积分

**UI 规范**:
- 登录页面居中卡片（380px 宽）
- 标签切换："密码登录" / "验证码登录"
- 主按钮：紫色渐变（#6d3af0）
- Google 登录按钮：白色背景 + Google Logo

#### 4.1.2 积分系统

**功能描述**: 管理用户积分余额和消耗

**积分获取方式**:
1. 新用户注册：+10 积分
2. 完成任务：+5 积分/任务
3. 充值购买：按价格表
4. 活动赠送：不定期

**积分消耗规则**:
| 功能 | 基础消耗 | 活动价 | 说明 |
|------|----------|--------|------|
| 一键成片（Sora2） | 20 积分 | 10 积分 | 新春福利 5折 |
| 一键成片（Veo3.1） | 15 积分 | - | 标准价 |
| 数字人生成 | 25 积分 | - | 高级功能 |
| 爆款复刻 | 30 积分 | 15 积分 | 新春福利 5折 |
| 反推提示词 | 5 积分 | - | 轻量功能 |

**显示位置**:
- 页面底部状态栏：`剩余积分: XX`
- 生成按钮旁：`预计消耗: XX 积分`

### 4.2 一键成片功能

#### 4.2.1 基础模式

**功能描述**: 模板选择式快速生成

**模板列表**:
1. 数字人UGC带货长视频（Veo3*4）
2. UGC带货（Sora2）
3. Veo3数字人+实拍（Veo3）

**交互流程**:
1. 展示 3 个模板卡片（横向排列）
2. 每个卡片显示：
   - 封面图/视频预览
   - 模板名称
   - 技术标签（模型版本）
   - "查看详情"按钮
   - "去生成"按钮（主CTA）
3. 点击"去生成"跳转到配置页面
4. 填写简化表单（仅必填项）
5. 生成视频

#### 4.2.2 高级模式

**功能描述**: 完全自定义配置

**表单字段**:
| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 产品图片 | 文件上传 | ✅ | JPG/PNG，≤10MB，≤1张 |
| 场景图片 | 文件上传 | ❌ | JPG/PNG，≤10MB，≤1张 |
| 产品详情 | 文本域 | ✅ | ≤500字，支持换行 |
| 数字人 | 单选 | ✅ | 公共数字人/我的数字人/去生成 |
| 请选择数字人 | 下拉选择 | ✅ | 动态加载数字人列表 |
| 语言 | 下拉选择 | ✅ | 英语/中文/日语/韩语等 |
| 运行模式 | 单选 | ✅ | 全自动/半自动 |

**验证规则**:
- 产品图片：必须上传，格式校验
- 产品详情：必填，≥10字
- 数字人：必须选择
- 语言：默认"英语"
- 运行模式：默认"半自动"

### 4.3 数字人功能

**功能描述**: 创建和管理 AI 虚拟主播

**页面结构**:
- 标签页："高级数字人" / "Sora2数字人"
- 搜索框："搜索数字人名称"
- 数字人列表（网格布局）
- "+ 新建数字人"按钮

**创建流程**:
1. 点击"新建数字人"
2. 选择数字人形象（头像库）
3. 配置语音参数（声音/语速/音调）
4. 输入测试脚本
5. 预览效果
6. 保存数字人

**数字人卡片**:
- 头像缩略图
- 数字人名称
- 类型标签（高级/Sora2）
- 操作按钮（编辑/删除/使用）

### 4.4 优秀案例库

**功能描述**: 展示平台优秀案例，提供灵感

**筛选功能**:
- 选择类目：美妆个护、女式内衣、家居家纺等
- 选择类型：（待定）
- 搜索框：关键词搜索

**案例卡片**:
- 封面图/视频缩略图
- 标题
- 类目标签
- 模型版本标签（Sora2/Veo3.1等）
- 收藏按钮（心形图标）

**布局**:
- 瀑布流网格（4-5列）
- 响应式：桌面4列，平板3列，手机2列
- 无限滚动加载

---

## 5. 非功能性需求

### 5.1 性能要求

- **页面加载时间**: ≤2秒（首屏）
- **API 响应时间**: ≤500ms（P95）
- **视频生成时间**:
  - Sora2: 45-90秒/4秒视频
  - Veo3.1: 60-120秒/4秒视频
- **并发用户**: 支持 1000+ 同时在线
- **文件上传**: 支持 ≤100MB 文件

### 5.2 安全要求

- **认证**: JWT Token + Refresh Token
- **授权**: Row Level Security (RLS)
- **数据加密**: HTTPS + 数据库加密
- **敏感信息**: API Key 加密存储
- **防护**: CSRF、XSS、SQL 注入防护
- **审计**: 操作日志记录

### 5.3 可用性要求

- **系统可用性**: ≥99.9%
- **数据备份**: 每日自动备份
- **灾难恢复**: RPO ≤1小时，RTO ≤4小时

### 5.4 兼容性要求

- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **移动端**: iOS 14+, Android 10+
- **屏幕分辨率**: 1280×720 ~ 3840×2160

---

## 6. 验收标准

### 6.1 功能验收

| 功能 | 验收标准 |
|------|----------|
| 用户注册 | 新用户可成功注册并获得 10 积分 |
| 用户登录 | 支持手机号/Google 登录，Token 正常生成 |
| 一键成片（基础） | 选择模板后可成功生成视频 |
| 一键成片（高级） | 填写完整表单后可成功生成视频 |
| 积分系统 | 积分余额正确显示，消耗正确扣除 |
| 优秀案例 | 案例正常展示，筛选功能正常 |
| 数字人功能 | 可创建、编辑、删除数字人 |

### 6.2 性能验收

- 首页加载时间 ≤2秒（3G 网络）
- API 响应时间 P95 ≤500ms
- 视频生成成功率 ≥95%

### 6.3 安全验收

- 通过 OWASP Top 10 安全测试
- 通过渗透测试
- 敏感数据加密存储

---

## 7. 技术约束

### 7.1 技术栈

- **前端**: Next.js 15, Tailwind CSS, Radix UI
- **后端**: FastAPI (Python), Supabase
- **数据库**: PostgreSQL (Supabase)
- **认证**: Supabase Auth
- **存储**: Supabase Storage
- **异步任务**: Trigger.dev
- **AI 模型**: Sora2, Veo3.1 Fast (通过 API)

### 7.2 第三方依赖

- **TikTok API**: Content Posting API
- **支付**: Stripe
- **邮件**: Resend
- **监控**: Sentry

---

## 8. 里程碑

### Phase 1: 深度调研 ✅ (已完成)
- 时间：2026-02-15
- 产出：research.md, 15+ 页面截图分析

### Phase 2: 架构与泳道规划 🔄 (进行中)
- 时间：2026-02-15 ~ 2026-02-16
- 产出：spec.md, data-model.md, architecture.md

### Phase 3: 后端基础设施 ⏳ (待开始)
- 时间：2026-02-17 ~ 2026-02-20
- 产出：Supabase 配置, FastAPI 服务, Trigger.dev 集成

### Phase 4: 前端实现 ⏳ (待开始)
- 时间：2026-02-21 ~ 2026-02-28
- 产出：Next.js 应用, 所有页面实现

---

**文档版本**: 1.0
**最后更新**: 2026-02-15
**状态**: Phase 2 进行中
